{"ast":null,"code":"var _jsxFileName = \"/Users/vietle/Documents/Techmaster/React/B8/product-page/src/components/authentication/Authenticate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAccount, checkAccount, logIn } from \"./authenticateSlide\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { InputGroup } from \"react-bootstrap\";\nimport './authenticate.css';\nimport Home from \"../../home\";\nimport { useHistory } from \"react-router-dom\";\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Authenticate({\n  setproductNavStatus,\n  setproductNavContent\n}) {\n  _s();\n\n  const [authenStatus, setAuthenStatus] = useState(\"login\");\n  const logInStatus = useSelector(state => state.authenticate.logInStatus);\n  const [failLogInStatus, setFailLogInStatus] = useState('');\n  const [inputUname, setInputUname] = useState(\"\");\n  const [inputPassWord, setInputPassWord] = useState(\"\");\n  const [validated, setValidated] = useState(false);\n  const history = useHistory();\n  const data = {\n    username: inputUname,\n    password: inputPassWord\n  };\n  useEffect(() => {\n    setproductNavStatus(\"light\");\n    setproductNavContent('Authenticate');\n  }, []);\n\n  const handleSubmitRegister = event => {\n    const form = event.currentTarget;\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    dispatch(getAccount([inputUname, inputPassWord]));\n  };\n\n  const handleSubmitLogIn = event => {\n    const form = event.currentTarget;\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    console.log(inputUname, inputPassWord);\n    dispatch(logIn(data)).unwrap().then(originalPromiseResult => {\n      console.log(originalPromiseResult);\n      setFailLogInStatus('');\n      history.push(\"/home\");\n    }).catch(rejectedValueOrSerializedError => {\n      console.log(rejectedValueOrSerializedError);\n      setFailLogInStatus(rejectedValueOrSerializedError.message);\n    });\n    setValidated(true);\n  };\n\n  const dispatch = useDispatch();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: logInStatus === true ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container authenticate\",\n      children: [authenStatus === \"login\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"mb-4\",\n          children: \"Please sign in \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          className: \"col-sm-6 col-12 mb-4\",\n          noValidate: true,\n          validated: validated,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicEmail\",\n            children: /*#__PURE__*/_jsxDEV(InputGroup, {\n              hasValidation: true,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                type: \"text\",\n                placeholder: \"Username\",\n                \"aria-describedby\": \"inputGroupPrepend\",\n                required: true,\n                onChange: e => setInputUname(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"LogInPassword\",\n            children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n              hasValidation: true,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                type: \"text\",\n                placeholder: \"Password\",\n                \"aria-describedby\": \"inputGroupPrepend\",\n                required: true,\n                onChange: e => setInputPassWord(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"failStatus mt-3\",\n              children: failLogInStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: e => handleSubmitLogIn(e),\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"mb-4\",\n          children: \"Regist your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          className: \"col-sm-6 col-12 mb-4\",\n          noValidate: true,\n          validated: validated,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicEmail\",\n            children: /*#__PURE__*/_jsxDEV(InputGroup, {\n              hasValidation: true,\n              children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                id: \"inputGroupPrepend\",\n                children: \"@\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                type: \"email\",\n                placeholder: \"Username\",\n                \"aria-describedby\": \"inputGroupPrepend\",\n                required: true,\n                onChange: e => setInputUname(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Please choose a username.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicPassword\",\n            children: /*#__PURE__*/_jsxDEV(InputGroup, {\n              hasValidation: true,\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                type: \"text\",\n                placeholder: \"Password\",\n                \"aria-describedby\": \"inputGroupPrepend\",\n                required: true,\n                onChange: e => setInputPassWord(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Please enter password.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: e => handleSubmitRegister(e),\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn--login mb-1\",\n        onClick: () => setAuthenStatus(\"login\"),\n        children: \"Sign in your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn--regis\",\n        onClick: () => setAuthenStatus(\"register\"),\n        children: \"Create an account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Authenticate, \"RXs3dFmU7Gg9Vj6lWLO0L0A8WFg=\", false, function () {\n  return [useSelector, useHistory, useDispatch];\n});\n\n_c = Authenticate;\n\nvar _c;\n\n$RefreshReg$(_c, \"Authenticate\");","map":{"version":3,"sources":["/Users/vietle/Documents/Techmaster/React/B8/product-page/src/components/authentication/Authenticate.js"],"names":["React","useState","useEffect","useSelector","useDispatch","getAccount","checkAccount","logIn","Form","Button","InputGroup","Home","useHistory","BrowserRouter","Router","Link","Authenticate","setproductNavStatus","setproductNavContent","authenStatus","setAuthenStatus","logInStatus","state","authenticate","failLogInStatus","setFailLogInStatus","inputUname","setInputUname","inputPassWord","setInputPassWord","validated","setValidated","history","data","username","password","handleSubmitRegister","event","form","currentTarget","checkValidity","preventDefault","stopPropagation","dispatch","handleSubmitLogIn","console","log","unwrap","then","originalPromiseResult","push","catch","rejectedValueOrSerializedError","message","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from \"react\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getAccount, checkAccount,logIn } from \"./authenticateSlide\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { InputGroup } from \"react-bootstrap\";\n\nimport './authenticate.css'\nimport Home from \"../../home\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n  BrowserRouter as Router,\n  Link,\n} from \"react-router-dom\";\n\n\nexport default function Authenticate({setproductNavStatus,setproductNavContent}) {\n  const [authenStatus, setAuthenStatus] = useState(\"login\");\n\n  const logInStatus = useSelector((state) => state.authenticate.logInStatus);\n\n  const [failLogInStatus,setFailLogInStatus] = useState('')\n\n  const [inputUname, setInputUname] = useState(\"\");\n  const [inputPassWord, setInputPassWord] = useState(\"\");\n\n  const [validated, setValidated] = useState(false);\n\n  const history = useHistory();\n\n  const data={username:inputUname,password:inputPassWord}\n\n  useEffect(() => {\n        setproductNavStatus(\"light\");\n        setproductNavContent('Authenticate');\n        \n  }, []);\n\n\n  const handleSubmitRegister = (event) => {\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    \n\n    dispatch(getAccount([inputUname, inputPassWord]));\n  };\n\n  const handleSubmitLogIn = (event) => {\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    console.log(inputUname,inputPassWord)\n    dispatch(logIn(data)).unwrap().then((originalPromiseResult) => {\n      console.log(originalPromiseResult)\n      setFailLogInStatus('');\n      history.push(\"/home\");\n    })\n    .catch((rejectedValueOrSerializedError) => {\n      console.log(rejectedValueOrSerializedError)\n      setFailLogInStatus(rejectedValueOrSerializedError.message)\n    });\n    setValidated(true);\n  };\n\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      {logInStatus === true ? (\n      <></>\n      ) : (\n        <div className=\"container authenticate\">\n         \n          {authenStatus === \"login\" ? (\n            <>\n              <h1 className='mb-4'>Please sign in </h1>\n              <Form className='col-sm-6 col-12 mb-4' noValidate validated={validated}>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                  <InputGroup hasValidation >\n                    <Form.Control\n                      size=\"lg\"\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      aria-describedby=\"inputGroupPrepend\"\n                      required\n                      onChange={(e) => setInputUname(e.target.value)}\n                    />\n                  </InputGroup>\n                </Form.Group>\n              \n                <Form.Group className=\"mb-3\" controlId=\"LogInPassword\">\n                  <InputGroup hasValidation>\n                    <Form.Control\n                      size=\"lg\"\n                      type=\"text\"\n                      placeholder=\"Password\"\n                      aria-describedby=\"inputGroupPrepend\"\n                      required\n                      onChange={(e) => setInputPassWord(e.target.value)}\n                    />\n                    \n                  </InputGroup>\n                  <div className=\"failStatus mt-3\">\n                      {failLogInStatus}\n                    </div>\n                </Form.Group>\n\n                <Button variant=\"primary\" onClick={(e) => handleSubmitLogIn(e)}>\n                  Log In\n                </Button>\n              </Form>\n            </>\n          ) : (\n            <>\n              <h1 className='mb-4'>Regist your account</h1>\n              <Form className='col-sm-6 col-12 mb-4' noValidate validated={validated}>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                  <InputGroup hasValidation>\n                    <InputGroup.Text id=\"inputGroupPrepend\">@</InputGroup.Text>\n                    <Form.Control\n                      size=\"lg\"\n                      type=\"email\"\n                      placeholder=\"Username\"\n                      aria-describedby=\"inputGroupPrepend\"\n                      required\n                      onChange={(e) => setInputUname(e.target.value)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      Please choose a username.\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                </Form.Group>\n\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                  <InputGroup hasValidation>\n                    <Form.Control\n                      size=\"lg\"\n                      type=\"text\"\n                      placeholder=\"Password\"\n                      aria-describedby=\"inputGroupPrepend\"\n                      required\n                      onChange={(e) => setInputPassWord(e.target.value)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      Please enter password.\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                </Form.Group>\n\n                <Button\n                  variant=\"primary\"\n                  onClick={(e) => handleSubmitRegister(e)}\n                >\n                  Sign Up\n                </Button>\n              </Form>\n            </>\n          )}\n           <button className='btn--login mb-1' onClick={() => setAuthenStatus(\"login\")}>Sign in your account</button>\n           <br/>\n          <button className='btn--regis' onClick={() => setAuthenStatus(\"register\")}>Create an account</button>\n        </div>\n      \n      )\n      }\n      \n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}