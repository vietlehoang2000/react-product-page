{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { act } from 'react-dom/cjs/react-dom-test-utils.production.min';\nimport ReduxThunk from 'redux-thunk';\nconst initialState = {\n  userName: '',\n  passWord: '',\n  logInStatus: false\n};\nconst url = 'https://product-list-fake-rest-server.herokuapp.com/Notebook';\nexport const fetchUserById = createAsyncThunk('users/fetchByIdStatus', async (userId, thunkAPI) => {\n  const response = await fetch(`${url}?id=${userId}`);\n\n  if (response.status === 200) {\n    const data = await response.json();\n    const total = response.headers.get(\"X-Total-Count\");\n    return {\n      data,\n      total\n    };\n  } else {\n    return response.status + \":\" + response.statusText;\n  }\n});\nexport const authenticateSlide = createSlice({\n  name: 'authentication',\n  initialState,\n  reducers: {//without async call\n    // getAccount: (state,action) => {\n    //   if(action.payload[0]!==''&&action.payload[1]!==''){\n    //   state.userName = action.payload[0];\n    //   state.passWord = action.payload[1];\n    //   }\n    //   else{\n    //     console.log('wrong')\n    //   }\n    //   console.log(state.userName,state.passWord)\n    // },\n    // checkAccount: (state,action) => {\n    //   if(action.payload[0]===state.userName&&action.payload[1]===state.passWord){\n    //       state.logInStatus=true;\n    //   }\n    // },\n  },\n  extraReducers: builder => {\n    // Add reducers for additional action types here, and handle loading state as needed\n    builder.addCase(fetchUserById.fulfilled, (state, action) => {\n      // Add user to the state array\n      console.log(action.payload);\n      state.userName = action.payload;\n    });\n  }\n}); // Action creators are generated for each case reducer function\n\nexport const {\n  getAccount,\n  checkAccount\n} = authenticateSlide.actions;\nexport default authenticateSlide.reducer;","map":{"version":3,"sources":["/Users/vietle/Documents/Techmaster/React/B8/product-page/src/components/authentication/authenticateSlide.js"],"names":["createSlice","createAsyncThunk","act","ReduxThunk","initialState","userName","passWord","logInStatus","url","fetchUserById","userId","thunkAPI","response","fetch","status","data","json","total","headers","get","statusText","authenticateSlide","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","console","log","payload","getAccount","checkAccount","actions","reducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,SAASC,GAAT,QAAoB,mDAApB;AAEA,OAAOC,UAAP,MAAuB,aAAvB;AAGA,MAAMC,YAAY,GAAC;AACfC,EAAAA,QAAQ,EAAC,EADM;AAEfC,EAAAA,QAAQ,EAAC,EAFM;AAGfC,EAAAA,WAAW,EAAC;AAHG,CAAnB;AAMA,MAAMC,GAAG,GAAC,8DAAV;AAEA,OAAO,MAAMC,aAAa,GAAGR,gBAAgB,CAC3C,uBAD2C,EAE3C,OAAOS,MAAP,EAAeC,QAAf,KAA4B;AAC1B,QAAMC,QAAQ,GAAG,MAAOC,KAAK,CAC1B,GAAEL,GAAI,OAAME,MAAO,EADO,CAA7B;;AAGA,MAAIE,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;AACA,UAAMC,KAAK,GAAGL,QAAQ,CAACM,OAAT,CAAiBC,GAAjB,CAAqB,eAArB,CAAd;AACA,WAAO;AAAEJ,MAAAA,IAAF;AAAQE,MAAAA;AAAR,KAAP;AACD,GAJD,MAIO;AACL,WAAOL,QAAQ,CAACE,MAAT,GAAkB,GAAlB,GAAwBF,QAAQ,CAACQ,UAAxC;AACD;AAGF,CAf0C,CAAtC;AAkBP,OAAO,MAAMC,iBAAiB,GAAGrB,WAAW,CAAC;AACzCsB,EAAAA,IAAI,EAAE,gBADmC;AAEzClB,EAAAA,YAFyC;AAGzCmB,EAAAA,QAAQ,EAAE,CAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBQ,GAH+B;AAsBzCC,EAAAA,aAAa,EAAGC,OAAD,IAAa;AAC1B;AACAA,IAAAA,OAAO,CAACC,OAAR,CAAgBjB,aAAa,CAACkB,SAA9B,EAAyC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC1D;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,OAAnB;AACAJ,MAAAA,KAAK,CAACvB,QAAN,GAAewB,MAAM,CAACG,OAAtB;AACD,KAJD;AAKD;AA7BwC,CAAD,CAArC,C,CAkCL;;AACA,OAAO,MAAM;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,IAA8Bb,iBAAiB,CAACc,OAAtD;AAEP,eAAed,iBAAiB,CAACe,OAAjC","sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { act } from 'react-dom/cjs/react-dom-test-utils.production.min';\n\nimport ReduxThunk from 'redux-thunk';\n\n\nconst initialState={\n    userName:'',\n    passWord:'',\n    logInStatus:false\n}\n\nconst url='https://product-list-fake-rest-server.herokuapp.com/Notebook';\n\nexport const fetchUserById = createAsyncThunk(\n  'users/fetchByIdStatus',\n  async (userId, thunkAPI) => {\n    const response = await  fetch(\n      `${url}?id=${userId}`\n    )\n    if (response.status === 200) {\n      const data = await response.json();\n      const total = response.headers.get(\"X-Total-Count\");\n      return { data, total };\n    } else {\n      return response.status + \":\" + response.statusText;\n    }\n\n    \n  }\n)\n\nexport const authenticateSlide = createSlice({\n    name: 'authentication',\n    initialState,\n    reducers: {\n\n      //without async call\n      // getAccount: (state,action) => {\n      //   if(action.payload[0]!==''&&action.payload[1]!==''){\n      //   state.userName = action.payload[0];\n      //   state.passWord = action.payload[1];\n      //   }\n      //   else{\n      //     console.log('wrong')\n      //   }\n      //   console.log(state.userName,state.passWord)\n      // },\n      // checkAccount: (state,action) => {\n      //   if(action.payload[0]===state.userName&&action.payload[1]===state.passWord){\n      //       state.logInStatus=true;\n      //   }\n      // },\n    },\n    extraReducers: (builder) => {\n      // Add reducers for additional action types here, and handle loading state as needed\n      builder.addCase(fetchUserById.fulfilled, (state, action) => {\n        // Add user to the state array\n        console.log(action.payload)\n        state.userName=action.payload;\n      })\n    },\n  })\n  \n\n\n  // Action creators are generated for each case reducer function\n  export const { getAccount, checkAccount} = authenticateSlide.actions\n  \n  export default authenticateSlide.reducer"]},"metadata":{},"sourceType":"module"}