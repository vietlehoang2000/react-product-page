{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { act } from 'react-dom/cjs/react-dom-test-utils.production.min';\nimport { AiFillMedicineBox } from 'react-icons/ai';\nimport ReduxThunk from 'redux-thunk';\nconst initialState = {\n  userName: '',\n  passWord: '',\n  logInStatus: false\n};\nconst url = 'https://fake-rest-api-nodejs.herokuapp.com/login';\nconst data = {\n  username: admin\n};\nexport const fetchUserById = createAsyncThunk('authenticate/cookies', async (userId, thunkAPI) => {\n  const response = await fetch(`${url}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  });\n\n  if (response.status === 200) {\n    const data = await response.json();\n    const total = response.headers.get(\"X-Total-Count\");\n    return {\n      data,\n      total\n    };\n  } else {\n    return response.status + \":\" + response.statusText;\n  }\n});\nexport const authenticateSlide = createSlice({\n  name: 'authentication',\n  initialState,\n  reducers: {//without async call\n    // getAccount: (state,action) => {\n    //   if(action.payload[0]!==''&&action.payload[1]!==''){\n    //   state.userName = action.payload[0];\n    //   state.passWord = action.payload[1];\n    //   }\n    //   else{\n    //     console.log('wrong')\n    //   }\n    //   console.log(state.userName,state.passWord)\n    // },\n    // checkAccount: (state,action) => {\n    //   if(action.payload[0]===state.userName&&action.payload[1]===state.passWord){\n    //       state.logInStatus=true;\n    //   }\n    // },\n  },\n  extraReducers: builder => {\n    // Add reducers for additional action types here, and handle loading state as needed\n    builder.addCase(fetchUserById.fulfilled, (state, action) => {\n      // Add user to the state array\n      console.log(action.payload.data);\n      state.userName = action.payload;\n    });\n  }\n}); // Action creators are generated for each case reducer function\n\nexport const {\n  getAccount,\n  checkAccount\n} = authenticateSlide.actions;\nexport default authenticateSlide.reducer;","map":{"version":3,"sources":["/Users/vietle/Documents/Techmaster/React/B8/product-page/src/components/authentication/authenticateSlide.js"],"names":["createSlice","createAsyncThunk","act","AiFillMedicineBox","ReduxThunk","initialState","userName","passWord","logInStatus","url","data","username","admin","fetchUserById","userId","thunkAPI","response","fetch","method","headers","body","JSON","stringify","status","json","total","get","statusText","authenticateSlide","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","console","log","payload","getAccount","checkAccount","actions","reducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,SAASC,GAAT,QAAoB,mDAApB;AACA,SAASC,iBAAT,QAAkC,gBAAlC;AAEA,OAAOC,UAAP,MAAuB,aAAvB;AAGA,MAAMC,YAAY,GAAC;AACfC,EAAAA,QAAQ,EAAC,EADM;AAEfC,EAAAA,QAAQ,EAAC,EAFM;AAGfC,EAAAA,WAAW,EAAC;AAHG,CAAnB;AAMA,MAAMC,GAAG,GAAC,kDAAV;AAEA,MAAMC,IAAI,GAAC;AAACC,EAAAA,QAAQ,EAACC;AAAV,CAAX;AAEA,OAAO,MAAMC,aAAa,GAAGZ,gBAAgB,CAC3C,sBAD2C,EAE3C,OAAOa,MAAP,EAAeC,QAAf,KAA4B;AAC1B,QAAMC,QAAQ,GAAG,MAAOC,KAAK,CAC1B,GAAER,GAAI,EADoB,EAClB;AACPS,IAAAA,MAAM,EAAE,MADD;AAEPC,IAAAA,OAAO,EAAE;AACT,sBAAgB;AADP,KAFF;AAKPC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeZ,IAAf;AALC,GADkB,CAA7B;;AASA,MAAIM,QAAQ,CAACO,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,UAAMb,IAAI,GAAG,MAAMM,QAAQ,CAACQ,IAAT,EAAnB;AACA,UAAMC,KAAK,GAAGT,QAAQ,CAACG,OAAT,CAAiBO,GAAjB,CAAqB,eAArB,CAAd;AACA,WAAO;AAAEhB,MAAAA,IAAF;AAAQe,MAAAA;AAAR,KAAP;AACD,GAJD,MAIO;AACL,WAAOT,QAAQ,CAACO,MAAT,GAAkB,GAAlB,GAAwBP,QAAQ,CAACW,UAAxC;AACD;AACF,CAnB0C,CAAtC;AAsBP,OAAO,MAAMC,iBAAiB,GAAG5B,WAAW,CAAC;AACzC6B,EAAAA,IAAI,EAAE,gBADmC;AAEzCxB,EAAAA,YAFyC;AAGzCyB,EAAAA,QAAQ,EAAE,CAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBQ,GAH+B;AAsBzCC,EAAAA,aAAa,EAAGC,OAAD,IAAa;AAC1B;AACAA,IAAAA,OAAO,CAACC,OAAR,CAAgBpB,aAAa,CAACqB,SAA9B,EAAyC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC1D;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,OAAP,CAAe7B,IAA3B;AACAyB,MAAAA,KAAK,CAAC7B,QAAN,GAAe8B,MAAM,CAACG,OAAtB;AACD,KAJD;AAKD;AA7BwC,CAAD,CAArC,C,CAkCL;;AACA,OAAO,MAAM;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,IAA8Bb,iBAAiB,CAACc,OAAtD;AAEP,eAAed,iBAAiB,CAACe,OAAjC","sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { act } from 'react-dom/cjs/react-dom-test-utils.production.min';\nimport { AiFillMedicineBox } from 'react-icons/ai';\n\nimport ReduxThunk from 'redux-thunk';\n\n\nconst initialState={\n    userName:'',\n    passWord:'',\n    logInStatus:false\n}\n\nconst url='https://fake-rest-api-nodejs.herokuapp.com/login';\n\nconst data={username:admin, }\n\nexport const fetchUserById = createAsyncThunk(\n  'authenticate/cookies',\n  async (userId, thunkAPI) => {\n    const response = await  fetch(\n      `${url}`,{\n        method: 'POST',\n        headers: {\n        'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data),\n      }\n    )\n    if (response.status === 200) {\n      const data = await response.json();\n      const total = response.headers.get(\"X-Total-Count\");\n      return { data, total };\n    } else {\n      return response.status + \":\" + response.statusText;\n    }\n  }\n)\n\nexport const authenticateSlide = createSlice({\n    name: 'authentication',\n    initialState,\n    reducers: {\n\n      //without async call\n      // getAccount: (state,action) => {\n      //   if(action.payload[0]!==''&&action.payload[1]!==''){\n      //   state.userName = action.payload[0];\n      //   state.passWord = action.payload[1];\n      //   }\n      //   else{\n      //     console.log('wrong')\n      //   }\n      //   console.log(state.userName,state.passWord)\n      // },\n      // checkAccount: (state,action) => {\n      //   if(action.payload[0]===state.userName&&action.payload[1]===state.passWord){\n      //       state.logInStatus=true;\n      //   }\n      // },\n    },\n    extraReducers: (builder) => {\n      // Add reducers for additional action types here, and handle loading state as needed\n      builder.addCase(fetchUserById.fulfilled, (state, action) => {\n        // Add user to the state array\n        console.log(action.payload.data)\n        state.userName=action.payload;\n      })\n    },\n  })\n  \n\n\n  // Action creators are generated for each case reducer function\n  export const { getAccount, checkAccount} = authenticateSlide.actions\n  \n  export default authenticateSlide.reducer"]},"metadata":{},"sourceType":"module"}